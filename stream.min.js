const t=(t,i)=>t[i]|t[i+1|0]<<8|t[i+2|0]<<16|t[i+3|0]<<24,i=(t,i)=>t<<i|t>>>32-i;export default(l=0)=>{let a=0,u=(l|=0)+606290984|0,h=l+2246822519|0,m=l,M=l-2654435761|0,e=0,r=1;const n=new Uint8Array(16),f={update:l=>{const o=0|l.length;let g=u,s=h,U=m,c=M,d=0;if(e=e+o>>>0,r&=e<16&o<16,0!==a)for(;d<o;)if(n[a]=l[d],a=a+1|0,d=d+1|0,16===a){g=Math.imul(i(g+Math.imul(t(n,0),2246822519)|0,13),2654435761),s=Math.imul(i(s+Math.imul(t(n,4),2246822519)|0,13),2654435761),U=Math.imul(i(U+Math.imul(t(n,8),2246822519)|0,13),2654435761),c=Math.imul(i(c+Math.imul(t(n,12),2246822519)|0,13),2654435761),a=0;break}if(o<256)for(;(d+15|0)<o;d=d+16|0)g=Math.imul(i(g+Math.imul(t(l,d+0|0),2246822519)|0,13),2654435761),s=Math.imul(i(s+Math.imul(t(l,d+4|0),2246822519)|0,13),2654435761),U=Math.imul(i(U+Math.imul(t(l,d+8|0),2246822519)|0,13),2654435761),c=Math.imul(i(c+Math.imul(t(l,d+12|0),2246822519)|0,13),2654435761);else{const t=new DataView(l.buffer);for(;(d+15|0)<o;d=d+16|0)g=Math.imul(i(g+Math.imul(t.getUint32(d+0|0,!0),2246822519)|0,13),2654435761),s=Math.imul(i(s+Math.imul(t.getUint32(d+4|0,!0),2246822519)|0,13),2654435761),U=Math.imul(i(U+Math.imul(t.getUint32(d+8|0,!0),2246822519)|0,13),2654435761),c=Math.imul(i(c+Math.imul(t.getUint32(d+12|0,!0),2246822519)|0,13),2654435761)}if(d<o)do{n[a]=l[d],a=a+1|0,16===a&&(g=Math.imul(i(g+Math.imul(t(n,0),2246822519)|0,13),2654435761),s=Math.imul(i(s+Math.imul(t(n,4),2246822519)|0,13),2654435761),U=Math.imul(i(U+Math.imul(t(n,8),2246822519)|0,13),2654435761),c=Math.imul(i(c+Math.imul(t(n,12),2246822519)|0,13),2654435761),a=0),d=d+1|0}while(d<o);return u=g,h=s,m=U,M=c,f},digest:()=>{let f=l+374761393|0;0===r&&(f=((i(u,1)+i(h,7)|0)+i(m,12)|0)+i(M,18)|0),f=f+e|0;let o=0;for(;(o+3|0)<a;o=o+4|0)f=Math.imul(i(f+Math.imul(t(n,o),3266489917)|0,17),668265263);for(;o<a;o=o+1|0)f=Math.imul(i(f+Math.imul(n[o],374761393)|0,11),2654435761);return f=Math.imul(f^f>>>15,2246822519),f=Math.imul(f^f>>>13,3266489917),(f^f>>>16)>>>0}};return f};
